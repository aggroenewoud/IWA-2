<div class="controls">
  <div class="date-selectors">
    <label for="start-date">Start Date:</label>
    <input type="date" id="start-date" [(ngModel)]="startDateString" (ngModelChange)="setStartDate($event)">

    <label for="end-date">End Date:</label>
    <input type="date" id="end-date" [(ngModel)]="endDateString" (ngModelChange)="setEndDate($event)">

    <button (click)="updateWeatherData()">Update</button>
  </div>

  <div class="floating-button">
    <a (click)="downloadCSV()"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
      <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
      <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
    </svg> CSV</a>
  </div>

  <div class="container1">
    <table>
      <thead>
      <tr>
        <th>Station ID</th>
        <th>Time</th>
        <th>Cloud cover</th>
        <th>Precipitation</th>
        <th>Temperature</th>
        <th>Wind speed</th>
        <th>Wind direction</th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let station of weatherData">
        <tr *ngFor="let hourData of station.hourlyData">
          <td>{{station.StationId}}</td>
          <td>{{hourData.date | date:'short'}}</td>
          <td>{{hourData.CLDC | number:'1.2-2'}}</td>
          <td>{{hourData.PRCP | number:'1.2-2'}}</td>
          <td>{{hourData.TEMP | number:'1.2-2'}}</td>
          <td>{{hourData.WDSP | number:'1.2-2'}}</td>
          <td>{{hourData.WNDDIR | number:'1.2-2'}}</td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</div>
